{% extends 'layouts/base.html' %}
{% load widget_tweaks %}
{% block title %}{{pagetitle}}{% endblock %}
{% block content %}
<section class="user-profile section d-flex align-items-center login-container">
	<div class="container">
		<div class="row">
			<div class="col-lg-3">
				<div class="sidebar">
					<!-- User Widget -->
					<div class="widget user card border-black py-4">
						<h2 class="text-center">{{ request.user.get_full_name }}</h2>
						<p class="text-center">{{ request.user.username }}</p>
					</div>
					<!-- Dashboard Links -->
				</div>
			</div>
			<div class="col-lg-9">
				<!-- Edit Profile Welcome Text -->
				<div class="widget welcome-message">
					<h2>Editar perfil</h2>
				</div>
				<!-- Edit Personal Info -->
				<div class="row">
					<div class="col-lg-6 col-md-6">
						<div class="widget personal-info">
							<h3 class="widget-header user">Editar Informacion Personal</h3>
							<form method="post">
								{% csrf_token %}
								<!-- First Name -->
								<div class="form-group">
									<label for="first-name">Nombre</label>
									{% render_field user_form.first_name class+="form-control" id="first-name" %}

								</div>
								<!-- Last Name -->
								<div class="form-group">
									<label for="last-name">Apellido</label>
									{% render_field user_form.last_name class+="form-control" id="last-name" %}
								</div>
								<div class="form-group">
									<label for="user-email">Email</label>
									{% render_field user_form.email class+="form-control" id="user-email" %}
								</div>
								<div class="form-group">
									<label for="user-name">Nombre de Usuario</label>
									{% render_field user_form.username class+="form-control" id="user-name" %}
								</div>
								<div class="form-group">
									<label for="user-type">Tipo de Usuario</label>
									{% render_field user_form.user_type class+="form-select" id="user-type" %}
									<div class="form-text">Bueno se supone que solo otro admin puede hacer admin a alguien pero para pruebas hagamoslo asi</div>
								</div>
								<!-- Submit button -->
                                <div class="form-group mt-3">
								<button class="btn btn-dark" name="update_profile">Guardar cambios</button>
                                </div>
                            </form>
						</div>
					</div>
					<div class="col-lg-6 col-md-6">
						<!-- Change Password -->
					<div class="widget change-password">
						<h3 class="widget-header user">Cambiar Contraseña</h3>
						<form method="post">
							{% csrf_token %}
							<div class="form-group">
								<label for="current-password">Contraseña Actual</label>
								{% render_field password_form.old_password class+="form-control" id="current-password" %}
							</div>
							<div class="form-group">
								<label for="new-password">Nueva Contraseña</label>
								{% render_field password_form.new_password1 class+="form-control" id="new-password" %}
							</div>
							<div class="form-group">
								<label for="repeat-new-password">Confirmar Nueva Contraseña</label>
								{% render_field password_form.new_password2 class+="form-control" id="repeat-new-password" %}
							</div>
                            <div class="form-group mt-3">
                                <button class="btn btn-dark" name="change_password">Cambiar Contraseña</button>
                            </div>
						</form>
					</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
{% endblock %}